---
title: Authentication
description: Learn how to authenticate with Grapevine's API
---

Grapevine supports two authentication methods: **API keys** for programmatic access to both the [REST API](/features/rest-api) and [MCP server](/features/mcp-api), and **OAuth** for human users connecting to MCP through interactive clients.

## Choosing an authentication method

Choose the authentication method that best fits your use case:

<CardGroup cols={2}>
  <Card title="OAuth" icon="user">
    **Best for:** Human users, desktop MCP clients, interactive sessions

    - Browser-based login flow
    - Automatic token refresh
    - Works only with MCP protocol
    - **Access to private data** based on authenticated user
  </Card>
  <Card title="API Keys" icon="key">
    **Best for:** Automation, scripts, CI/CD, programmatic access

    - Long-lived tokens
    - Works with both [REST API](/features/rest-api) and [MCP server](/features/mcp-api)
    - Simple Bearer token authentication
    - **Public data only** - team-scoped access
  </Card>
</CardGroup>


## MCP Server

Grapevine runs as a remote MCP server at `https://mcp.getgrapevine.ai`. The MCP server supports both OAuth and API key authentication.
See the [MCP API documentation](/features/mcp-api) for complete protocol details and available tools.

### OAuth (Recommended for human users)

OAuth provides a seamless authentication experience for human users connecting through MCP clients. The client automatically handles the browser-based login flow.

<Note>
  OAuth authentication enables access to **private data** based on the authenticated user's permissions. This allows MCP clients to access personal context that API keys cannot reach.
</Note>

<Tabs>
  <Tab title="Claude Desktop">
    ```json
    {
      "mcpServers": {
        "grapevine": {
          "url": "https://mcp.getgrapevine.ai"
        }
      }
    }
    ```
  </Tab>
  <Tab title="Python">
    ```python
    from fastmcp import Client
    import asyncio

    async def main():
        # OAuth flow handled automatically - browser will open for login
        async with Client("https://mcp.getgrapevine.ai/", auth="oauth") as client:
            # Use MCP tools
            result = await client.call_tool("ask_agent", {"query": "What is our pricing?"})
            print(result)

    if __name__ == "__main__":
        asyncio.run(main())
    ```
  </Tab>
</Tabs>



### API Keys (For programmatic access)

For scripts, automation, and programmatic access, use API keys with the Authorization header:

<Tabs>
  <Tab title="Claude Desktop">
    ```json
    {
      "mcpServers": {
        "grapevine": {
          "url": "https://mcp.getgrapevine.ai",
          "headers": {
            "Authorization": "Bearer YOUR_API_KEY"
          }
        }
      }
    }
    ```
  </Tab>
  <Tab title="Python">
    ```python
    from fastmcp import Client
    import asyncio

    async def main():
        async with Client(
            "https://mcp.getgrapevine.ai/mcp/",
            headers={"Authorization": "Bearer YOUR_API_KEY"}
        ) as client:
            result = await client.call_tool("ask_agent", {"query": "What is our pricing?"})
            print(result)

    if __name__ == "__main__":
        asyncio.run(main())
    ```
  </Tab>
</Tabs>

## REST API

Include your API key in the `Authorization` header as a Bearer token:

```bash
curl https://api.getgrapevine.ai/v1/ask \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"query": "What is our pricing strategy?"}'
```

See the [REST API documentation](/features/rest-api) for complete endpoint details.



## Managing API keys

### Creating an API key

API keys are currently team-scoped, and only have access to public information in your tenant. For more information on public vs private data, see [Privacy](/getting-started/security-privacy)

<Steps>
  <Step title="Open API Keys page">
    Navigate to the [API Keys page](https://app.getgrapevine.ai/api-keys) in the Grapevine admin dashboard.
  </Step>

  <Step title="Create new key">
    Click **Create API Key** and give your key a descriptive name (e.g., "Production Integration", "Development").
  </Step>

  <Step title="Save your key">
    Click **Create**, then **copy the key immediately** - it will only be shown once.

    <Warning>
      API keys are shown only once at creation. Store them securely - you won't be able to see them again.
    </Warning>
  </Step>
</Steps>

### Viewing keys

You can view all your API keys on the [API Keys page](https://app.getgrapevine.ai/api-keys). The list shows:
- Key name
- Partial key (prefix only)
- Creation date
- Last used date

### Revoking keys

<Steps>
  <Step title="Open API Keys page">
    Navigate to the [API Keys page](https://app.getgrapevine.ai/api-keys).
  </Step>

  <Step title="Find and delete">
    Find the key you want to revoke and click the **Delete** button.
  </Step>
</Steps>

Revoked keys stop working immediately.

## Security best practices

<CardGroup cols={2}>
  <Card title="Choose the right method" icon="user-shield">
    Use OAuth for interactive human sessions through MCP clients. Reserve API keys for automation, scripts, and programmatic access.
  </Card>
  <Card title="Store securely" icon="lock">
    Store API keys in environment variables or secure credential management systems. Never commit them to version control.
  </Card>
  <Card title="Use descriptive names" icon="tag">
    Name API keys based on their purpose or environment to make management easier.
  </Card>
  <Card title="Rotate regularly" icon="rotate">
    API Keys don't expire - make sure you rotate them if there is ever a chance they are compromised (such as team changes).
  </Card>
</CardGroup>

## Ready to get building?

<Columns cols={2}>
  <Card
    title="Explore the REST API"
    icon="terminal"
    href="/features/rest-api"
  >
    Get started quickly with our simple REST API to ask questions of your Company Context
  </Card>
  <Card
    title="Build an Agent with MCP"
    icon="plug"
    href="/features/mcp-api"
  >
    Give your agents powerful tools to explore your Company Context
  </Card>
  <Card
    title="Get real-time updates with Webhooks"
    icon="webhook"
    href="/features/webhooks"
  >
    Run workflows every time your Company Context changes
  </Card>
</Columns>
