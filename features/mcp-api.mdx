---
title: MCP API
description: Use Grapevine as a Model Context Protocol server
---

Grapevine implements the Model Context Protocol (MCP), allowing AI assistants to search your knowledge base.

## Overview

The MCP server exposes Grapevine's search capabilities to AI assistants like Claude, enabling them to query your company's knowledge base during conversations.

## Setup

### Prerequisites

- Grapevine account with an API key
- MCP-compatible AI assistant (e.g., Claude Desktop)

### Configuration

Grapevine runs as a remote MCP server at:

```
https://mcp.getgrapevine.ai
```

Add Grapevine to your MCP client configuration with your API key:

```json
{
  "mcpServers": {
    "grapevine": {
      "url": "https://mcp.getgrapevine.ai",
      "headers": {
        "Authorization": "Bearer YOUR_API_KEY"
      }
    }
  }
}
```

### Claude Desktop

For Claude Desktop, add to `~/Library/Application Support/Claude/claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "grapevine": {
      "url": "https://mcp.getgrapevine.ai",
      "headers": {
        "Authorization": "Bearer YOUR_API_KEY"
      }
    }
  }
}
```

Replace `YOUR_API_KEY` with your actual API key from the Grapevine admin dashboard.

## Available tools

The MCP server exposes these tools to AI assistants:

### search

Search your knowledge base using natural language.

**Parameters:**
- `query` (string) - The search query
- `max_results` (integer, optional) - Maximum results to return

**Example:**
```
User: What is our pricing strategy?
Assistant: [Uses search tool with query "pricing strategy"]
```

### get_document

Retrieve a specific document by ID.

**Parameters:**
- `document_id` (string) - The document identifier

### semantic_search

Perform semantic similarity search.

**Parameters:**
- `query` (string) - The search query
- `filters` (object, optional) - Filter by source, date, etc.

## Usage examples

### Basic search

```
User: Can you find information about our Q4 roadmap?
Assistant: [Searches Grapevine and provides answer with citations]
```

### Filtered search

```
User: What engineering decisions were made last month?
Assistant: [Searches with date filter and source filter for GitHub/Linear]
```

## Security

The MCP server requires authentication via API key:

- All requests must include a valid API key
- API keys provide access to all content in your organization
- All requests are authenticated and logged

## Troubleshooting

### Connection issues

If the MCP server fails to connect:

1. Verify your API key is correct and properly formatted in the configuration
2. Ensure the URL is set to `https://mcp.getgrapevine.ai`
3. Check that your API key hasn't been revoked in the admin dashboard

### Authentication errors

If you receive authentication errors:

1. Verify your API key is included in the `Authorization` header
2. Ensure the API key format is correct: `Bearer YOUR_API_KEY`
3. Check that your API key hasn't expired or been deleted
4. Contact support if issues persist